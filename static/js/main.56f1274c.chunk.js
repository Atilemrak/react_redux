(this["webpackJsonpredux-example"]=this["webpackJsonpredux-example"]||[]).push([[0],{28:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(8),a=n.n(r),i=n(4),s=n(18),u=n(5),o=(n(28),n(10)),d=n(15),l=n.n(d),j=n(13),b=n.n(j),O=n(16),m="increment",f="decrement",p="inputText",x="commentsCreate",v="commentsUpdate",h="commentsDelete",y="commentsLoad",g="loaderDisplayOn",k="loaderDisplayOff",N="errorDisplayOn",D="errorDisplayOff";function w(e){return function(t){t({type:N,text:e}),setTimeout((function(){t({type:D})}),2e3)}}function _(){return{type:k}}var E=n(1);var R=function(e){var t=e.data,n=Object(c.useState)(""),r=Object(o.a)(n,2),a=r[0],s=r[1],u=t.text,d=t.id,l=Object(i.c)();return Object(c.useEffect)((function(){u&&s(u)}),[u]),Object(E.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l(function(e,t){return{type:v,data:{text:e,id:t}}}(a,d))},className:"comments-item",children:[Object(E.jsx)("div",{onClick:function(e){e.preventDefault(),l(function(e){return{type:h,id:e}}(d))},className:"comments-item-delete",children:"\xd7"}),Object(E.jsx)("input",{type:"text",value:a,onChange:function(e){s(e.target.value)}}),Object(E.jsx)("input",{type:"submit",hidden:!0})]})};var S=function(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),r=n[0],a=n[1],s=Object(i.c)(),u=Object(i.d)((function(e){return e.commentsReducer})).comments;return Object(c.useEffect)((function(){s(function(){var e=Object(O.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:g}),e.next=4,fetch("https://jsonplaceholder.typicode.com/comments?_limit=10");case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,setTimeout((function(){t({type:y,data:c}),t(_())}),1e3),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),t(w("\u043e\u0448\u0438\u0431\u043a\u0430:",e.t0)),t(_());case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(E.jsxs)("div",{className:"card-comments",children:[Object(E.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=l()();s(function(e,t){return{type:x,data:{text:e,id:t}}}(r,t)),a("")},className:"comments-item-create",children:[Object(E.jsx)("input",{className:"input-create",type:"text",value:r,onChange:function(e){a(e.target.value)}}),Object(E.jsx)("input",{type:"submit",hidden:!0})]}),u.length>0&&u.map((function(e){return Object(E.jsx)(R,{data:e},e.id)}))]})};var T=Object(i.b)((function(e){return{likes:e.likesReducer.likes}}),(function(e){return{onIncrementLikes:function(){return e({type:m})},onDecrementLikes:function(){return e({type:f})}}}))((function(e){return Object(E.jsxs)("div",{className:"button-controls",children:[Object(E.jsxs)("button",{onClick:e.onIncrementLikes,children:[" \u2665 ",e.likes]}),Object(E.jsx)("button",{onClick:e.onDecrementLikes,children:"  \ud83d\udc4e"})]})})),C=n(17),I=n.n(C),L=function(e){var t=Object(i.d)((function(e){return e.loaderReducer.loading}));return Object(E.jsx)("div",{className:"loader-styles",children:Object(E.jsx)(I.a,{type:"TailSpin",color:"#00BFFF",height:100,width:100,visible:t})})};var X=function(e){var t=Object(i.c)(),n=Object(i.d)((function(e){return e.inputReducer.text}));return Object(E.jsxs)("div",{className:"card-title",children:[Object(E.jsx)("div",{className:"card-title-top",children:Object(E.jsx)("input",{type:"text",onChange:function(e){t(function(e){return{type:p,text:e}}(e.target.value))}})}),Object(E.jsx)("p",{children:n})]})};var F=function(){var e=Object(i.d)((function(e){return e.loaderReducer.error}));return console.log(e),Object(E.jsx)("div",{className:"App",children:Object(E.jsxs)("div",{className:"wrap",children:[Object(E.jsx)(L,{}),Object(E.jsxs)("div",{className:"card",children:[e&&Object(E.jsxs)("div",{className:"error-message",children:[e," "]}),Object(E.jsxs)("div",{className:"card-image",children:[Object(E.jsx)("img",{src:"./sea.jpg",alt:"surfing"}),Object(E.jsx)(X,{}),Object(E.jsx)(T,{})]}),Object(E.jsx)(S,{})]})]})})},U=n(6),B=n(2),J={comments:[]},V={text:""},A={likes:0},q={loading:!1,error:null},z=Object(u.b)({likesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(B.a)(Object(B.a)({},e),{},{likes:e.likes+1});case f:return Object(B.a)(Object(B.a)({},e),{},{likes:e.likes-1});default:return e}},inputReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;return t.type===p?Object(B.a)(Object(B.a)({},e),{},{text:t.text}):e},commentsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(B.a)(Object(B.a)({},e),{},{comments:[].concat(Object(U.a)(e.comments),[t.data])});case y:var n=t.data.map((function(e){return{text:e.name,id:e.id}}));return Object(B.a)(Object(B.a)({},e),{},{comments:n});case v:var c=t.data,r=e.comments,a=r.findIndex((function(e){return e.id===c.id})),i=[].concat(Object(U.a)(r.slice(0,a)),[c],Object(U.a)(r.slice(a+1)));return Object(B.a)(Object(B.a)({},e),{},{comments:i});case h:return function(){var n=t.id,c=e.comments,r=c.findIndex((function(e){return e.id===n})),a=[].concat(Object(U.a)(c.slice(0,r)),Object(U.a)(c.slice(r+1)));return Object(B.a)(Object(B.a)({},e),{},{comments:a})}();default:return e}},loaderReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(B.a)(Object(B.a)({},e),{},{loading:!0});case k:return Object(B.a)(Object(B.a)({},e),{},{loading:!1});case N:return Object(B.a)(Object(B.a)({},e),{},{error:t.text});case D:return Object(B.a)(Object(B.a)({},e),{},{error:null});default:return e}}}),G=(n(50),["\u043a\u043e\u0437\u0435\u043b","\u0443\u0440\u043e\u0434"]);var H=Object(u.d)(z,Object(u.c)(Object(u.a)(s.a,(function(e){return console.log(e),function(t){return function(n){if(n.type===x&&(console.log("ss"),G.some((function(e){return n.data.text.includes(e)}))))return e.dispatch(w("\u043d\u0435 \u043d\u0430\u0434\u043e \u0442\u0430\u043a"));return t(n)}}})),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));a.a.render(Object(E.jsx)(i.a,{store:H,children:Object(E.jsx)(F,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.56f1274c.chunk.js.map